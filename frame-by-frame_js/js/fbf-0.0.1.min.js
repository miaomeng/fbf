/* ！~。~
 * fbf.js-0.0.2;
 * 用于产生css3逐帧动画
 * 目前只应用于webkit内核浏览器
 * 作者微博：折腾笔记
 * date:2015-7-19;
 * 依赖jq;
 * 压缩版本采用YUI Compressor
 */
;(function(a){a.fn.fbf=function(e){var i=this;i.css("-webkit-animation","none");var d={width:i.width(),height:i.height(),img:"",frames:0,speed:100,loop:true,start:0,end:0,};var h=a.extend({},d,e);(a("#f_b_f_s").length)||a("head").append('<style id="f_b_f_s">');var c=a("#f_b_f_s"),g="",f=new Image,b="infinite";h.loop?h.end+=1:b="normal forwards";f.src=h.img;f.load;a(f).on("load",function(){h.frames=(h.frames||f.width/h.width);g="@-webkit-keyframes f_b_f{0% {background-position: "+(-h.width*(h.start))+" 0;}100% {background-position: "+(-((h.end))*h.width)+"px 0;}}";c.html(g);i.css({"width":h.width+"px","height":h.height+"px","background":'url("'+f.src+'") 0 0 no-repeat',"-webkit-animation":"f_b_f "+(((h.end||h.frames)-h.start)*h.speed/1000)+"s steps("+((h.end)-h.start)+" , end) "+b})})}})(jQuery);
