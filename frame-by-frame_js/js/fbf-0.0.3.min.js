/* ！~。~
 * fbf.js-0.0.3;
 * 用于产生css3逐帧动画
 * 目前只应用于webkit内核浏览器
 * 作者微博：折腾笔记
 * date:2015-7-21;
 * 依赖jq;
 * 压缩版本采用YUI Compressor
 */
(function(a){a.fn.fbf=function(j,i){var h=this;h.css("-webkit-animation","none");var c={width:h.width(),height:h.height(),img:"",frames:0,speed:100,loop:false,start:0,end:0,};var d=a.extend({},c,j);(a("#f_b_f_s").length)||a("head").append('<style id="f_b_f_s">');var e=a("#f_b_f_s"),g="",b=new Image,f="infinite";d.loop?d.end+=1:f="normal forwards";b.src=d.img;b.load;a(b).on("load",function(){d.frames=(d.frames||b.width/d.width);g="@-webkit-keyframes f_b_f{0% {background-position: "+(-d.width*(d.start))+" 0;}100% {background-position: "+(-((d.end))*d.width)+"px 0;}}";e.html(g);h.css({"width":d.width+"px","height":d.height+"px","background":'url("'+b.src+'") 0 0 no-repeat',"-webkit-animation":"f_b_f "+(((d.end||d.frames)-d.start)*d.speed/1000)+"s steps("+((d.end)-d.start)+" , end) "+f});if(typeof i=="function"){setTimeout(i,((d.end||d.frames)-d.start)*d.speed)}});return h}})(jQuery);